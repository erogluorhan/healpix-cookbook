{"version":2,"kind":"Notebook","sha256":"fa21c80a02ce88122403b381c62f2025d548a319cbaa3d5ec9fae8c4918af4f0","slug":"notebooks.easygems","location":"/notebooks/01-easygems.ipynb","dependencies":[],"frontmatter":{"title":"easy.gems for HEALPix Analysis & Visualization","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Project Pythia Community","given":"Project Pythia","family":"Community"},"name":"Project Pythia Community","url":"https://projectpythia.org/","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true},"code":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"github":"https://github.com/projectpythia/healpix-cookbook","copyright":"2025","affiliations":[{"id":"University at Albany (State University of New York)","name":"University at Albany (State University of New York)"},{"id":"UCAR/NCAR","name":"UCAR/NCAR"}],"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/healpix-cookbook/blob/main/notebooks/01-easygems.ipynb","thumbnail":"/healpix-cookbook/build/017413bc2a0a2abc303b8562edfce112.png","exports":[{"format":"ipynb","filename":"01-easygems.ipynb","url":"/healpix-cookbook/build/01-easygems-a831e4a71779dee435ecd58997ed4b3a.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"image","url":"/healpix-cookbook/build/017413bc2a0a2abc303b8562edfce112.png","alt":"HEALPix logo","width":"30%","key":"yp2PhO5kwm","urlSource":"https://easy.gems.dkrz.de/_images/landing-page-banner.png"}],"key":"i2n5aAuZrt"},{"type":"heading","depth":1,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"easy.gems for HEALPix Analysis & Visualization","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"YI53cH8uLl"}],"identifier":"easy-gems-for-healpix-analysis-visualization","label":"easy.gems for HEALPix Analysis & Visualization","html_id":"easy-gems-for-healpix-analysis-visualization","implicit":true,"key":"TQ0LrvgXF8"},{"type":"heading","depth":3,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"In this section, you’ll learn:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"vHzumykcsB"}],"identifier":"in-this-section-youll-learn","label":"In this section, you’ll learn:","html_id":"in-this-section-youll-learn","implicit":true,"key":"dFtSNQuOdh"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Utilizing intake to open a HEALPix data catalog","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"wCymJ2qdUO"}],"key":"WMr2S2BwOI"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Using the ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"OmVHLFB23M"},{"type":"inlineCode","value":"healpix","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"npgAOLuxYl"},{"type":"text","value":" package to perform HEALPix operations to look at basic statistics","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"DtQ0mwBlFS"}],"key":"fijtIHHtAL"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Plotting HEALPix data via easy.gems functionality","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"eLytJJkODy"}],"key":"utMC2C2fwm"}],"key":"GR0ziS2cTa"},{"type":"heading","depth":3,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Related Documentation","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"lxiz2X3jbI"}],"identifier":"related-documentation","label":"Related Documentation","html_id":"related-documentation","implicit":true,"key":"NtjZHr114F"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":17,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"link","url":"https://easy.gems.dkrz.de/Processing/healpix/healpix_starter.html#","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Getting started with hierarchical HEALPix data - easy.gems Documentation","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"OZaVO5STJJ"}],"urlSource":"https://easy.gems.dkrz.de/Processing/healpix/healpix_starter.html#","key":"ApN46UdSDo"}],"key":"QqCFKK7bgV"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"link","url":"https://easy.gems.dkrz.de/Processing/healpix/healpix_cartopy.html","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Plotting with cartopy - easy.gems Documentation","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"VIjIrjKYWr"}],"urlSource":"https://easy.gems.dkrz.de/Processing/healpix/healpix_cartopy.html","key":"dqnj2Wx7TG"}],"key":"LqTJtcZkwi"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"link","url":"https://projectpythia.org/intake-cookbook/README.html","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Intake Cookbook","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"JuHUW9LJ8w"}],"urlSource":"https://projectpythia.org/intake-cookbook/README.html","key":"bGxXaZGXmm"}],"key":"X4O2wGLRzF"}],"key":"vDoj62Dtl9"},{"type":"heading","depth":3,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"UwWlbPwJc9"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"IIjMtDB2OB"},{"type":"table","position":{"start":{"line":23,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"XklXwJ55fI"}],"key":"XS7s8KOyiv"},{"type":"tableCell","header":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"cv8cdXeohD"}],"key":"nYfgKVAw4W"},{"type":"tableCell","header":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"UT1Wb58rCD"}],"key":"HmZiRxhULz"}],"key":"MWmZDe4hEx"},{"type":"tableRow","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"link","url":"/notebooks/healpix","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"HEALPix overview","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"ixBNdDZQTW"}],"urlSource":"00-healpix","dataUrl":"/notebooks.healpix.json","internal":true,"protocol":"file","key":"hVLBNs15Sm"}],"key":"BTz4DK9M6v"},{"type":"tableCell","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"oAMviwrKaa"}],"key":"hTjvYNjrjk"},{"type":"tableCell","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"children":[],"key":"U561FfAbWv"}],"key":"pk9O2jhCBb"}],"key":"CxuHxvqsFa"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"strong","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Time to learn","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"Jj9bXfGUv8"}],"key":"y4CrFgydfC"},{"type":"text","value":": 30 minutes","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"Y5dWSBXCBi"}],"key":"lgEVoyP5Z7"},{"type":"thematicBreak","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"bi3STAm3Ca"}],"key":"BSuw8ON8xS"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Open data catalog","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NS0HP2qQr8"}],"identifier":"open-data-catalog","label":"Open data catalog","html_id":"open-data-catalog","implicit":true,"key":"Yk0GmnFDI7"}],"key":"gDEdEMlqH5"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"u7Wphshd3K"}],"key":"GnV01dljit"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"If you think that you first need to learn about Intake, Pythia’s ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"d5IEqT135u"},{"type":"link","url":"https://projectpythia.org/intake-cookbook/README.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Intake Cookbook","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EVKDP1wgUt"}],"urlSource":"https://projectpythia.org/intake-cookbook/README.html","key":"qQP9mEUZtD"},{"type":"text","value":" is a great resource to do so.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"btf9opzlNh"}],"key":"u0nd5Lk5hn"}],"key":"fUfYkMWGEa"}],"key":"GoT1kSJdbx"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let us use the online data catalog from the WCRP’s Digital Earths Global Hackathon 2025’s ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VBRZet3IFG"},{"type":"link","url":"https://github.com/digital-earths-global-hackathon/catalog","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"catalog repository","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rtk2akzemE"}],"urlSource":"https://github.com/digital-earths-global-hackathon/catalog","error":true,"key":"M5LOJWyffm"},{"type":"text","value":" using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zCsWfDbojN"},{"type":"inlineCode","value":"intake","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"I8lmfRTRkP"},{"type":"text","value":" and read the output of the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zp8WWQaf9Q"},{"type":"inlineCode","value":"ICON","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WKl0zeiZ8U"},{"type":"text","value":" simulation run ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fPZBmM3AQp"},{"type":"inlineCode","value":"ngc4008","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QyHSOg6w25"},{"type":"text","value":", which is stored in the HEALPix format:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tdBdytpJFn"}],"key":"KexcLfuhUr"}],"key":"qfdsvcOz0b"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import intake\n\n# Hackathon data catalogs\ncat_url = \"https://digital-earths-global-hackathon.github.io/catalog/catalog.yaml\"\ncat = intake.open_catalog(cat_url).online\nmodel_run = cat.icon_ngc4008","key":"lmhiIkd4NQ"},{"type":"output","id":"g-BFxZuR_ph5977zZQeDF","data":[],"key":"msOTYPxNCa"}],"key":"CLJOJGJHB1"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"OdmrTbkSCm"}],"key":"I08qdktHZs"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We highly recommend checking out the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"la2zpzEfDM"},{"type":"link","url":"https://easy.gems.dkrz.de/Processing/healpix/healpix_starter.html#the-catalog","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"easy.gems documentation on HEALPix data catalogs","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cwtS9v4kLy"}],"urlSource":"https://easy.gems.dkrz.de/Processing/healpix/healpix_starter.html#the-catalog","key":"WDZTtwBNBb"},{"type":"text","value":" to understand the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ET3j0UIz9Y"},{"type":"inlineCode","value":"zoom","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"E1Krb633ii"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KIZ82LYdDH"},{"type":"inlineCode","value":"time","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QMjZZGl5Bs"},{"type":"text","value":" parametrization of the model runs in the catalogs. In short, each model run has an independent ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BrXBu2PoFr"},{"type":"inlineCode","value":"Dataset","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"O5T63ZcumP"},{"type":"text","value":" for each combination of the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ijwYWwXF8V"},{"type":"inlineCode","value":"zoom","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zPl7bsN6dv"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"D9N8qDV6hb"},{"type":"inlineCode","value":"time","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SsY9RcaAzQ"},{"type":"text","value":" parameters as depicted below (image credit ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"kq6flDyWU3"},{"type":"link","url":"https://easy.gems.dkrz.de/Processing/healpix/healpix_starterhtml#the-catalog","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"easy.gems documentation on HEALPix data catalogs","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"o5SsA6sPDE"}],"urlSource":"https://easy.gems.dkrz.de/Processing/healpix/healpix_starterhtml#the-catalog","key":"MYT5WeciOH"},{"type":"text","value":", and “PT30M” in this figure should be “PT15M”, 15 minutes, for the hackathon data we are using here)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"szmVA5rsSF"}],"key":"ZqV7ZfU5Z2"}],"key":"zADHotrFMN"}],"key":"zgSYAH8zgE"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"image","url":"/healpix-cookbook/build/044ab28ae681f5d84334a3e152648819.png","alt":"Matplotlib Logo","width":600,"key":"DsPL24o199","urlSource":"https://easy.gems.dkrz.de/_images/ds_hierarchy.png"}],"key":"c70jOXuZQ6"}],"key":"GPBtgk8ZPZ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Explore datasets","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"j9MSAtBXZw"}],"identifier":"explore-datasets","label":"Explore datasets","html_id":"explore-datasets","implicit":true,"key":"l2fpihl2s7"}],"key":"gqsT8nN8hq"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"So, the coarsest dataset in this model run would be as follows (Even if we called it without specifying any parameters, i.e. ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rOr4bvqtZX"},{"type":"inlineCode","value":"model_run.to_dask()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"O22pIziHIZ"},{"type":"text","value":", the result would be same as the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sDvGvWdvv8"},{"type":"inlineCode","value":"ds_coarsest","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kdVL1Zsmrw"},{"type":"text","value":" below since this model run defaults to the coarsest settings):","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TZBpOm2zRW"}],"key":"mZANk5zgle"}],"key":"keDv95NVpU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds_coarsest = model_run(zoom=0, time=\"P1D\").to_dask()\nds_coarsest","key":"qhjqgJ8hfa"},{"type":"output","id":"E4qMefRUV1AEmCVFUIic3","data":[{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/healpix-cookbook-dev/lib/python3.13/site-packages/intake_xarray/base.py:21: FutureWarning: The return type of `Dataset.dims` will be changed to return a set of dimension names in future, in order to be more consistent with `DataArray.dims`. To access a mapping from dimension names to lengths, please use `Dataset.sizes`.\n  'dims': dict(self._ds.dims),\n"},{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 883MB\nDimensions:                              (time: 10958, depth_half: 73,\n                                          cell: 12, level_full: 90, crs: 1,\n                                          depth_full: 72,\n                                          soil_depth_water_level: 5,\n                                          level_half: 91,\n                                          soil_depth_energy_level: 5)\nCoordinates:\n  * crs                                  (crs) float32 4B nan\n  * depth_full                           (depth_full) float32 288B 1.0 ... 5....\n  * depth_half                           (depth_half) float32 292B 0.0 ... 5....\n  * level_full                           (level_full) int32 360B 1 2 3 ... 89 90\n  * level_half                           (level_half) int32 364B 1 2 3 ... 90 91\n  * soil_depth_energy_level              (soil_depth_energy_level) float32 20B ...\n  * soil_depth_water_level               (soil_depth_water_level) float32 20B ...\n  * time                                 (time) datetime64[ns] 88kB 2020-01-0...\nDimensions without coordinates: cell\nData variables: (12/103)\n    A_tracer_v_to                        (time, depth_half, cell) float32 38MB ...\n    FrshFlux_IceSalt                     (time, cell) float32 526kB ...\n    FrshFlux_TotalIce                    (time, cell) float32 526kB ...\n    Qbot                                 (time, cell) float32 526kB ...\n    Qtop                                 (time, cell) float32 526kB ...\n    Wind_Speed_10m                       (time, cell) float32 526kB ...\n    ...                                   ...\n    vas                                  (time, cell) float32 526kB ...\n    w                                    (time, depth_half, cell) float32 38MB ...\n    wa_phy                               (time, level_half, cell) float32 48MB ...\n    zg                                   (level_full, cell) float32 4kB ...\n    zghalf                               (level_half, cell) float32 4kB ...\n    zos                                  (time, cell) float32 526kB ...","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"f825773bfff27ae49ad5d3e8d9813f8a","path":"/healpix-cookbook/build/f825773bfff27ae49ad5d3e8d9813f8a.html"}}}],"key":"XKiS3Yj02D"}],"key":"N4OxwR8yMQ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now, let us look at a dataset with finer zoom level still with the coarsest time and another dataset with a finer zoom level and the finest time (which may be useful for daily analyses) dataset:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nBdwxQRAsZ"}],"key":"xl0Tq9TNl3"}],"key":"KfrSuVsGmM"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"ds_fine = model_run(zoom=7).to_dask()\nds_fine","key":"yZiIlf1CiT"},{"type":"output","id":"oHZEoMHDS260THiBXMS3c","data":[{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/healpix-cookbook-dev/lib/python3.13/site-packages/intake_xarray/base.py:21: FutureWarning: The return type of `Dataset.dims` will be changed to return a set of dimension names in future, in order to be more consistent with `DataArray.dims`. To access a mapping from dimension names to lengths, please use `Dataset.sizes`.\n  'dims': dict(self._ds.dims),\n"},{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 14TB\nDimensions:                              (time: 10958, depth_half: 73,\n                                          cell: 196608, level_full: 90, crs: 1,\n                                          depth_full: 72,\n                                          soil_depth_water_level: 5,\n                                          level_half: 91,\n                                          soil_depth_energy_level: 5)\nCoordinates:\n  * crs                                  (crs) float32 4B nan\n  * depth_full                           (depth_full) float32 288B 1.0 ... 5....\n  * depth_half                           (depth_half) float32 292B 0.0 ... 5....\n  * level_full                           (level_full) int32 360B 1 2 3 ... 89 90\n  * level_half                           (level_half) int32 364B 1 2 3 ... 90 91\n  * soil_depth_energy_level              (soil_depth_energy_level) float32 20B ...\n  * soil_depth_water_level               (soil_depth_water_level) float32 20B ...\n  * time                                 (time) datetime64[ns] 88kB 2020-01-0...\nDimensions without coordinates: cell\nData variables: (12/103)\n    A_tracer_v_to                        (time, depth_half, cell) float32 629GB ...\n    FrshFlux_IceSalt                     (time, cell) float32 9GB ...\n    FrshFlux_TotalIce                    (time, cell) float32 9GB ...\n    Qbot                                 (time, cell) float32 9GB ...\n    Qtop                                 (time, cell) float32 9GB ...\n    Wind_Speed_10m                       (time, cell) float32 9GB ...\n    ...                                   ...\n    vas                                  (time, cell) float32 9GB ...\n    w                                    (time, depth_half, cell) float32 629GB ...\n    wa_phy                               (time, level_half, cell) float32 784GB ...\n    zg                                   (level_full, cell) float32 71MB ...\n    zghalf                               (level_half, cell) float32 72MB ...\n    zos                                  (time, cell) float32 9GB ...","content_type":"text/plain"},"text/html":{"content_type":"text/html","hash":"4d534d31ab2dfb95037dfa1c5b7e58b2","path":"/healpix-cookbook/build/4d534d31ab2dfb95037dfa1c5b7e58b2.html"}}}],"key":"RSsHEHTJTY"}],"key":"Yud5DtY27j"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds_finesttime = model_run(zoom=6, time=\"PT15M\").to_dask()\nds_finesttime","key":"naB18AgzzM"},{"type":"output","id":"FeaqMhw5ohoXQkuw1lhMD","data":[{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/healpix-cookbook-dev/lib/python3.13/site-packages/intake_xarray/base.py:21: FutureWarning: The return type of `Dataset.dims` will be changed to return a set of dimension names in future, in order to be more consistent with `DataArray.dims`. To access a mapping from dimension names to lengths, please use `Dataset.sizes`.\n  'dims': dict(self._ds.dims),\n"},{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 1TB\nDimensions:  (crs: 1, time: 1051968, cell: 49152)\nCoordinates:\n  * crs      (crs) float32 4B nan\n  * time     (time) datetime64[ns] 8MB 2020-01-01T00:15:00 ... 2050-01-01\nDimensions without coordinates: cell\nData variables:\n    pr       (time, cell) float32 207GB ...\n    qv2m     (time, cell) float32 207GB ...\n    rlut     (time, cell) float32 207GB ...\n    rsds     (time, cell) float32 207GB ...\n    sfcwind  (time, cell) float32 207GB ...\n    tas      (time, cell) float32 207GB ...","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 1TB\nDimensions:  (crs: 1, time: 1051968, cell: 49152)\nCoordinates:\n  * crs      (crs) float32 4B nan\n  * time     (time) datetime64[ns] 8MB 2020-01-01T00:15:00 ... 2050-01-01\nDimensions without coordinates: cell\nData variables:\n    pr       (time, cell) float32 207GB ...\n    qv2m     (time, cell) float32 207GB ...\n    rlut     (time, cell) float32 207GB ...\n    rsds     (time, cell) float32 207GB ...\n    sfcwind  (time, cell) float32 207GB ...\n    tas      (time, cell) float32 207GB ...</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-3b97ca86-c78a-4532-8a10-45d9b6c0939f' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-3b97ca86-c78a-4532-8a10-45d9b6c0939f' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>crs</span>: 1</li><li><span class='xr-has-index'>time</span>: 1051968</li><li><span>cell</span>: 49152</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-c0f2c1ba-62fe-4274-9fd7-1b72c0caacb4' class='xr-section-summary-in' type='checkbox'  checked><label for='section-c0f2c1ba-62fe-4274-9fd7-1b72c0caacb4' class='xr-section-summary' >Coordinates: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>crs</span></div><div class='xr-var-dims'>(crs)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan</div><input id='attrs-71cc22f1-b118-45e8-8e39-30bca92ef10c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-71cc22f1-b118-45e8-8e39-30bca92ef10c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2c8ce720-b84a-4a3e-b89b-827ef8c99f57' class='xr-var-data-in' type='checkbox'><label for='data-2c8ce720-b84a-4a3e-b89b-827ef8c99f57' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>grid_mapping_name :</span></dt><dd>healpix</dd><dt><span>healpix_nside :</span></dt><dd>64</dd><dt><span>healpix_order :</span></dt><dd>nest</dd></dl></div><div class='xr-var-data'><pre>array([nan], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2020-01-01T00:15:00 ... 2050-01-01</div><input id='attrs-19308e81-f446-4b7b-830e-6e08f3d57a88' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-19308e81-f446-4b7b-830e-6e08f3d57a88' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8ebc9170-c8a5-4890-a7fa-086ebc4d2cc0' class='xr-var-data-in' type='checkbox'><label for='data-8ebc9170-c8a5-4890-a7fa-086ebc4d2cc0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>axis :</span></dt><dd>T</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2020-01-01T00:15:00.000000000&#x27;, &#x27;2020-01-01T00:30:00.000000000&#x27;,\n       &#x27;2020-01-01T00:45:00.000000000&#x27;, ..., &#x27;2049-12-31T23:30:00.000000000&#x27;,\n       &#x27;2049-12-31T23:45:00.000000000&#x27;, &#x27;2050-01-01T00:00:00.000000000&#x27;],\n      shape=(1051968,), dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-a534b293-cee5-49b0-a385-8105fda29e3c' class='xr-section-summary-in' type='checkbox'  checked><label for='section-a534b293-cee5-49b0-a385-8105fda29e3c' class='xr-section-summary' >Data variables: <span>(6)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>pr</span></div><div class='xr-var-dims'>(time, cell)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-72c4aaf1-d3f7-481d-8bc7-304467cf0c4c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-72c4aaf1-d3f7-481d-8bc7-304467cf0c4c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1503ed0b-c521-4dd5-ba9c-096688094b03' class='xr-var-data-in' type='checkbox'><label for='data-1503ed0b-c521-4dd5-ba9c-096688094b03' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>cell_methods :</span></dt><dd>time: mean cell: mean</dd><dt><span>component :</span></dt><dd>atmo</dd><dt><span>grid_mapping :</span></dt><dd>crs</dd><dt><span>long_name :</span></dt><dd>precipitation flux</dd><dt><span>units :</span></dt><dd>kg m-2 s-1</dd><dt><span>vgrid :</span></dt><dd>surface</dd></dl></div><div class='xr-var-data'><pre>[51706331136 values with dtype=float32]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>qv2m</span></div><div class='xr-var-dims'>(time, cell)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-af555340-da24-4ae0-b01f-b15c05c20aa2' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-af555340-da24-4ae0-b01f-b15c05c20aa2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-146259fe-b5ca-4f0c-93ff-27260cd4c6fd' class='xr-var-data-in' type='checkbox'><label for='data-146259fe-b5ca-4f0c-93ff-27260cd4c6fd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>cell_methods :</span></dt><dd>time: mean cell: mean</dd><dt><span>component :</span></dt><dd>atmo</dd><dt><span>grid_mapping :</span></dt><dd>crs</dd><dt><span>long_name :</span></dt><dd>specific humidity in 2m</dd><dt><span>units :</span></dt><dd>kg kg-1</dd><dt><span>vgrid :</span></dt><dd>height_2m</dd></dl></div><div class='xr-var-data'><pre>[51706331136 values with dtype=float32]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>rlut</span></div><div class='xr-var-dims'>(time, cell)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-32495c12-5b51-429d-afcd-ad911daf0758' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-32495c12-5b51-429d-afcd-ad911daf0758' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0205cc1b-e3f7-474d-9f37-7ebdcf4d4541' class='xr-var-data-in' type='checkbox'><label for='data-0205cc1b-e3f7-474d-9f37-7ebdcf4d4541' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>cell_methods :</span></dt><dd>time: mean cell: mean</dd><dt><span>component :</span></dt><dd>atmo</dd><dt><span>grid_mapping :</span></dt><dd>crs</dd><dt><span>long_name :</span></dt><dd>toa outgoing longwave radiation</dd><dt><span>standard_name :</span></dt><dd>toa_outgoing_longwave_flux</dd><dt><span>units :</span></dt><dd>W m-2</dd><dt><span>vgrid :</span></dt><dd>toa</dd></dl></div><div class='xr-var-data'><pre>[51706331136 values with dtype=float32]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>rsds</span></div><div class='xr-var-dims'>(time, cell)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-e4b2dfc0-99b4-41a7-8ad3-975dd377d737' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e4b2dfc0-99b4-41a7-8ad3-975dd377d737' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fed8c74e-e7c7-43d9-b75b-97db63ee3ca3' class='xr-var-data-in' type='checkbox'><label for='data-fed8c74e-e7c7-43d9-b75b-97db63ee3ca3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>cell_methods :</span></dt><dd>time: mean cell: mean</dd><dt><span>component :</span></dt><dd>atmo</dd><dt><span>grid_mapping :</span></dt><dd>crs</dd><dt><span>long_name :</span></dt><dd>surface downwelling shortwave radiation</dd><dt><span>standard_name :</span></dt><dd>surface_downwelling_shortwave_flux_in_air</dd><dt><span>units :</span></dt><dd>W m-2</dd><dt><span>vgrid :</span></dt><dd>surface</dd></dl></div><div class='xr-var-data'><pre>[51706331136 values with dtype=float32]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>sfcwind</span></div><div class='xr-var-dims'>(time, cell)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-d13b8764-e5f4-4b20-900c-62bc08384e24' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d13b8764-e5f4-4b20-900c-62bc08384e24' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b2cd34ae-e1f4-4ba8-928d-1289a91e78cc' class='xr-var-data-in' type='checkbox'><label for='data-b2cd34ae-e1f4-4ba8-928d-1289a91e78cc' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>cell_methods :</span></dt><dd>time: mean cell: mean</dd><dt><span>component :</span></dt><dd>atmo</dd><dt><span>grid_mapping :</span></dt><dd>crs</dd><dt><span>long_name :</span></dt><dd>10m windspeed</dd><dt><span>units :</span></dt><dd>m s-1</dd><dt><span>vgrid :</span></dt><dd>height_10m</dd></dl></div><div class='xr-var-data'><pre>[51706331136 values with dtype=float32]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>tas</span></div><div class='xr-var-dims'>(time, cell)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-d0414f1c-0709-42b7-b66e-e2da8a2bc2f4' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d0414f1c-0709-42b7-b66e-e2da8a2bc2f4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a015ba24-e0c9-4456-8e0a-58d83179b72c' class='xr-var-data-in' type='checkbox'><label for='data-a015ba24-e0c9-4456-8e0a-58d83179b72c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>cell_methods :</span></dt><dd>time: mean cell: mean</dd><dt><span>component :</span></dt><dd>atmo</dd><dt><span>grid_mapping :</span></dt><dd>crs</dd><dt><span>long_name :</span></dt><dd>temperature in 2m</dd><dt><span>standard_name :</span></dt><dd>air_temperature</dd><dt><span>units :</span></dt><dd>K</dd><dt><span>vgrid :</span></dt><dd>height_2m</dd></dl></div><div class='xr-var-data'><pre>[51706331136 values with dtype=float32]</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-a4505a4d-b49f-4705-a50b-83ce44456e5a' class='xr-section-summary-in' type='checkbox'  ><label for='section-a4505a4d-b49f-4705-a50b-83ce44456e5a' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>crs</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-2471fde5-56fe-4270-bd8f-a88f9adfce77' class='xr-index-data-in' type='checkbox'/><label for='index-2471fde5-56fe-4270-bd8f-a88f9adfce77' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([nan], dtype=&#x27;float32&#x27;, name=&#x27;crs&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-c1557834-3bd8-4f5d-998d-f617dfe89e9b' class='xr-index-data-in' type='checkbox'/><label for='index-c1557834-3bd8-4f5d-998d-f617dfe89e9b' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2020-01-01 00:15:00&#x27;, &#x27;2020-01-01 00:30:00&#x27;,\n               &#x27;2020-01-01 00:45:00&#x27;, &#x27;2020-01-01 01:00:00&#x27;,\n               &#x27;2020-01-01 01:15:00&#x27;, &#x27;2020-01-01 01:30:00&#x27;,\n               &#x27;2020-01-01 01:45:00&#x27;, &#x27;2020-01-01 02:00:00&#x27;,\n               &#x27;2020-01-01 02:15:00&#x27;, &#x27;2020-01-01 02:30:00&#x27;,\n               ...\n               &#x27;2049-12-31 21:45:00&#x27;, &#x27;2049-12-31 22:00:00&#x27;,\n               &#x27;2049-12-31 22:15:00&#x27;, &#x27;2049-12-31 22:30:00&#x27;,\n               &#x27;2049-12-31 22:45:00&#x27;, &#x27;2049-12-31 23:00:00&#x27;,\n               &#x27;2049-12-31 23:15:00&#x27;, &#x27;2049-12-31 23:30:00&#x27;,\n               &#x27;2049-12-31 23:45:00&#x27;, &#x27;2050-01-01 00:00:00&#x27;],\n              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=1051968, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-0fe388cf-a593-4b41-ac8d-1029e0a01179' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-0fe388cf-a593-4b41-ac8d-1029e0a01179' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"tuc6tXUPdQ"}],"key":"K1WeIaa7P0"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"HEALPix basic stats with the","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XBS04xjjr1"},{"type":"inlineCode","value":"healpix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NEMh3VVenF"},{"type":"text","value":" package","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sEEEP0aMl8"}],"identifier":"healpix-basic-stats-with-thehealpix-package","label":"HEALPix basic stats with thehealpix package","html_id":"healpix-basic-stats-with-thehealpix-package","implicit":true,"key":"itlT8qyfrM"}],"key":"HsPDokFJoN"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let us look at the global and Boulder, CO, USA temperature averages for a 3-year time-slice of the whole dataset.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WHu02lcvlw"}],"key":"PADE7MhHDz"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"For this, we will first need to define a few HEALPix helper functions to get the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CHUVPAM4Ps"},{"type":"inlineCode","value":"nest","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dly1FpTUPp"},{"type":"text","value":" and ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Yk8h4sgy4n"},{"type":"inlineCode","value":"nside","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mF2ExRsAbU"},{"type":"text","value":" values from the dataset, then find the HEALPix pixel that Boulder coords fall in, and finally plot those temporal averages using ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PP2tSBi9nL"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nbhWunXqru"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cIwfuZLC3Y"}],"key":"N8N0DdPUKp"}],"key":"R05EJuUjJq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import healpix as hp\nimport matplotlib.pylab as plt","key":"L0lrGqQkPa"},{"type":"output","id":"1kFZX6QWkdbyK2RVtqB0N","data":[],"key":"d0gIS1jMTc"}],"key":"AXU70zKJ5g"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"HEALPix helper functions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KwEi4U5mzm"}],"identifier":"healpix-helper-functions","label":"HEALPix helper functions","html_id":"healpix-helper-functions","implicit":true,"key":"kDieXy1khr"}],"key":"E4EGMzGZui"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def get_nest(ds):\n    return ds.crs.healpix_order == \"nest\"\n    \ndef get_nside(ds):\n    return ds.crs.healpix_nside","key":"FMPNkdImzI"},{"type":"output","id":"DDrjbjNUTmR6yP6hcntTF","data":[],"key":"NN9bM4I2ph"}],"key":"Oi4J8CDmxH"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"HEALPix pixel containing Boulder’s coords","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cdoaWiJvn0"}],"identifier":"healpix-pixel-containing-boulders-coords","label":"HEALPix pixel containing Boulder’s coords","html_id":"healpix-pixel-containing-boulders-coords","implicit":true,"key":"HJIcHDh3mr"}],"key":"TH0Cnum1U2"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%%time\nboulder_lon = -105.2747\nboulder_lat = 40.0190\n\nboulder_pixel = hp.ang2pix(\n    get_nside(ds_fine), boulder_lon, boulder_lat, lonlat=True, nest=get_nest(ds_fine)\n)","key":"gkFXFx2SIR"},{"type":"output","id":"KTEx64zMAWG_4GLF4R4ss","data":[{"output_type":"stream","name":"stdout","text":"CPU times: user 232 μs, sys: 59 μs, total: 291 μs\nWall time: 295 μs\n"}],"key":"cdCX7Z5PZt"}],"key":"wq45QEA1NW"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Global and Boulder’s temperature averages","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wU2aR8eQd5"}],"identifier":"global-and-boulders-temperature-averages","label":"Global and Boulder’s temperature averages","html_id":"global-and-boulders-temperature-averages","implicit":true,"key":"jHPrSHyYZr"}],"key":"o2LRcecmKm"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%%time\ntime_slice = slice(\"2020-01-02T00:00:00.000000000\", \"2023-01-01T00:00:00.000000000\")\n\nds_fine.tas.sel(time=time_slice).isel(cell=boulder_pixel).plot(label=\"Boulder\")\n\nds_coarsest.tas.sel(time=time_slice).mean(\"cell\").plot(label=\"Global mean\")\n\nplt.legend()","key":"Z7mrv7pDFM"},{"type":"output","id":"BMPzMPZc5aMXd02AyNmGw","data":[{"output_type":"stream","name":"stdout","text":"CPU times: user 320 ms, sys: 185 ms, total: 506 ms\nWall time: 1.9 s\n"},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"3f38e1480d8a4e72ccaff1689b9bb253","path":"/healpix-cookbook/build/3f38e1480d8a4e72ccaff1689b9bb253.png"}}}],"key":"W6UNnvV8xp"}],"key":"Eljy9DM6Zf"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plotting with easy.gems and cartopy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PyPgQPo0eT"}],"identifier":"plotting-with-easy-gems-and-cartopy","label":"Plotting with easy.gems and cartopy","html_id":"plotting-with-easy-gems-and-cartopy","implicit":true,"key":"OQJ1AePVEw"}],"key":"l1yBMzc9Ih"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In this part, we will look at the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Hgbk6lsNHL"},{"type":"inlineCode","value":" healpix_show","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yRwBwCxDrB"},{"type":"text","value":" function that is provided by ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Q0sfYuyV4P"},{"type":"inlineCode","value":"easy.gems","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NShe3b3zIW"},{"type":"text","value":" for convenient HEALPix plotting.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PplyntKyCw"}],"key":"OUFpvy9P9z"}],"key":"Tfng5gVaqU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import easygems.healpix as eghp\n\nimport cartopy.crs as ccrs\nimport cartopy.feature as cf\nimport cmocean","key":"DpPZ1hY34x"},{"type":"output","id":"iv0duUv1gw0yj-DbmTnr0","data":[],"key":"bm8U32TV5p"}],"key":"CFg5xZK5Tv"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Global plots","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"l03x7jCLm4"}],"identifier":"global-plots","label":"Global plots","html_id":"global-plots","implicit":true,"key":"L1FpXrbptT"}],"key":"d2rE8ZKX4W"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Most of this is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dPoRVuJnau"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XLhgj9vQgY"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BEdh3FyUcc"},{"type":"inlineCode","value":"cartopy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HwkgTVMaw6"},{"type":"text","value":" code, but have a look at how ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GhDBPwjZ6O"},{"type":"inlineCode","value":"eghp.healpix_show()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WELvEXQEtM"},{"type":"text","value":" is called. The following code will plot global temperature (at the first timestep for simplicity)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZXoV428kaj"}],"key":"RRo7bwxV9P"}],"key":"gsrZchNWdP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"projection = ccrs.Robinson(central_longitude=-135.5808361)\n\nfig, ax = plt.subplots(\n    figsize=(8, 4), subplot_kw={\"projection\": projection}, constrained_layout=True\n)\n\nax.set_global()\n\neghp.healpix_show(ds_fine.tas.isel(time=0), ax=ax, cmap=cmocean.cm.thermal)\n\nax.add_feature(cf.COASTLINE, linewidth=0.8)\nax.add_feature(cf.BORDERS, linewidth=0.4)","key":"JOzXiWhNxN"},{"type":"output","id":"8plIJbQs_pkF3szPo4TcA","data":[{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/plain":{"content":"<cartopy.mpl.feature_artist.FeatureArtist at 0x7f8d2ab23890>","content_type":"text/plain"}}},{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/healpix-cookbook-dev/lib/python3.13/site-packages/cartopy/io/__init__.py:241: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/110m_physical/ne_110m_coastline.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/healpix-cookbook-dev/lib/python3.13/site-packages/cartopy/io/__init__.py:241: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/110m_cultural/ne_110m_admin_0_boundary_lines_land.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 800x400 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"a8275305f74b616855caf902e96a4c61","path":"/healpix-cookbook/build/a8275305f74b616855caf902e96a4c61.png"}}}],"key":"aftYDCkKLf"}],"key":"LX5u1PvV3v"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Regional plots","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ugaj1oJJL9"}],"identifier":"regional-plots","label":"Regional plots","html_id":"regional-plots","implicit":true,"key":"FYzASTawRp"}],"key":"jUdysKIcGQ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"If plotting a region of interest is desired, it is also possible through setting extents of the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZQvoQfNwgi"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dP7e6d9wmW"},{"type":"text","value":" plot.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TLrpqH7AGj"}],"key":"YiRu5hw2qP"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let us look into USA map using the Boulder, CO, USA coords we had used before for simplicity:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wWgbktMMYO"}],"key":"yb6Wj1vAOP"}],"key":"zrBBwpe8Jg"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"projection = ccrs.Robinson(central_longitude=boulder_lon)\n\nfig, ax = plt.subplots(\n    figsize=(8, 4), subplot_kw={\"projection\": projection}, constrained_layout=True\n)\nax.set_extent([boulder_lon-20, boulder_lon+40, boulder_lat-20, boulder_lat+10], crs=ccrs.PlateCarree())\n\neghp.healpix_show(ds_fine.tas.isel(time=0), ax=ax, cmap=cmocean.cm.thermal)\n\nax.add_feature(cf.COASTLINE, linewidth=0.8)\nax.add_feature(cf.BORDERS, linewidth=0.4)","key":"Y1nTUb9riX"},{"type":"output","id":"-hWd_TEP2cS7OMP9V6pxk","data":[{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/plain":{"content":"<cartopy.mpl.feature_artist.FeatureArtist at 0x7f8d1eeac7d0>","content_type":"text/plain"}}},{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/healpix-cookbook-dev/lib/python3.13/site-packages/cartopy/io/__init__.py:241: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/50m_physical/ne_50m_coastline.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/healpix-cookbook-dev/lib/python3.13/site-packages/cartopy/io/__init__.py:241: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/50m_cultural/ne_50m_admin_0_boundary_lines_land.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 800x400 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"823d85002f2d750cbf3c12bce54552dc","path":"/healpix-cookbook/build/823d85002f2d750cbf3c12bce54552dc.png"}}}],"key":"jsx4i4aVeE"}],"key":"pkltqkRqLl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Further ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JIMjcNQ7sJ"},{"type":"inlineCode","value":"easy.gems","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TGIoo5s4u7"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lRsaYYYkov"},{"type":"inlineCode","value":"healpix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ri5sW4ftKF"}],"identifier":"further-easy-gems-and-healpix","label":"Further easy.gems and healpix","html_id":"further-easy-gems-and-healpix","implicit":true,"key":"OJokOKqaPS"}],"key":"tKPrKUFYd3"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"These are only a sampling of HEALPix and easy.gems capabilities; if you are interested in learning more, be sure to check out the usage examples at the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CqUDqjDAVs"},{"type":"link","url":"https://easy.gems.dkrz.de/Processing/healpix/index.html#","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"easy.gems HEALPix Documentation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w96LH1Oq8k"}],"urlSource":"https://easy.gems.dkrz.de/Processing/healpix/index.html#","key":"C0O9TL2mil"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lSgzpx5oZB"}],"key":"LMmcqwrRdo"}],"key":"MYmOnfJjeY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What is next?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dkvVAKbbdl"}],"identifier":"what-is-next","label":"What is next?","html_id":"what-is-next","implicit":true,"key":"m9L6Wjv7Pa"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"O2fhGwzj2J"},{"type":"link","url":"/notebooks/uxarray","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"next section","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cIC3n3HrGk"}],"urlSource":"02-uxarray","dataUrl":"/notebooks.uxarray.json","internal":true,"protocol":"file","key":"oMuJtZdgSY"},{"type":"text","value":" will provide an UXarray workflow that loads in and analyzes & visualizes HEALPix data.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"GFs0xDaj6d"}],"key":"BeOy7OrIag"}],"key":"iQ4IlPwDOJ"}],"key":"NE3Cf4ROG8"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"HEALPix Overview","url":"/notebooks/healpix","group":"Introduction to HEALPix"},"next":{"title":"UXarray for Basic HEALPix Statistics & Visualization","url":"/notebooks/uxarray","group":"HEALPix Analysis & Visualization"}}},"domain":"http://localhost:3000"}